<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MethodErrorHints.jl</title><meta name="title" content="Home · MethodErrorHints.jl"/><meta property="og:title" content="Home · MethodErrorHints.jl"/><meta property="twitter:title" content="Home · MethodErrorHints.jl"/><meta name="description" content="Documentation for MethodErrorHints.jl."/><meta property="og:description" content="Documentation for MethodErrorHints.jl."/><meta property="twitter:description" content="Documentation for MethodErrorHints.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>MethodErrorHints.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#MethodErrorHints.jl"><span>MethodErrorHints.jl</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/penelopeysm/MethodErrorHints.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/penelopeysm/MethodErrorHints.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="MethodErrorHints.jl"><a class="docs-heading-anchor" href="#MethodErrorHints.jl">MethodErrorHints.jl</a><a id="MethodErrorHints.jl-1"></a><a class="docs-heading-anchor-permalink" href="#MethodErrorHints.jl" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MethodErrorHints" href="#MethodErrorHints"><code>MethodErrorHints</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MethodErrorHints.jl</code></pre><p>A Julia package providing a macro to register custom hint messages for <code>MethodError</code>s.</p><p>This package exports a single macro, <a href="#MethodErrorHints.@method_error_hint"><code>@method_error_hint</code></a>, which allows you to register custom hint messages to be displayed when a <code>MethodError</code> is thrown for a function call.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/penelopeysm/MethodErrorHints.jl/blob/7abc2a3165b72ecf3af0c0bb51d9a28f59441d9b/src/MethodErrorHints.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MethodErrorHints.@method_error_hint" href="#MethodErrorHints.@method_error_hint"><code>MethodErrorHints.@method_error_hint</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@method_error_hint sig msg [key=val...]</code></pre><p>Register a hint message <code>msg</code> to be printed when a <code>MethodError</code> is thrown for a function call matching the signature <code>sig</code>.</p><p>The signature <code>sig</code> is specified in a similar way to a typical method definition in Julia. See below for examples.</p><p>Additional key-value pairs <code>key=val</code> are passed to <a href="https://docs.julialang.org/en/v1/base/io-network/#Base.printstyled"><code>Base.printstyled</code></a> when printing the hint message, allowing customization of the appearance of the message. Please see the documentation of <a href="https://docs.julialang.org/en/v1/base/io-network/#Base.printstyled"><code>Base.printstyled</code></a> for the available options.</p><p><strong>Usage</strong></p><p>This function uses <a href="https://docs.julialang.org/en/v1/base/base/#Base.Experimental.register_error_hint"><code>Base.Experimental.register_error_hint</code></a>, and thus all the suggestions in its docstring are also applicable here.</p><p>For example, this macro should be called within the <a href="https://docs.julialang.org/en/v1/base/base/#__init__"><code>__init__</code></a> function of a module, to ensure that the hint is registered when the module is loaded. Furthermore, since this is an experimental Julia feature, if you wish to guard against breakage you should gate calls to this macro behind <code>if isdefined(Base.Experimental, :register_error_hint)</code>.</p><pre><code class="language-julia hljs">if isdefined(Base.Experimental, :register_error_hint)
    function __init__()
        @method_error_hint f1(x::Int, y; z::String) &quot;My error hint&quot; color=:red
    end
end</code></pre><p><strong>Examples</strong></p><p>Here, ✔ indicates an invocation that will trigger the hint, and ✘ indicates one that will not. For the most part, the rules exactly mimic method dispatch in Julia, with some small exceptions noted in the next section.</p><p>In this first example, <code>f1</code> must be called with two positional arguments and a keyword argument <code>z</code> that have precisely the types specified, plus a keyword argument <code>z</code>. Names of positional arguments are optional as long as a type is specified, but names of keyword arguments are mandatory. If a positional argument is untyped like <code>y</code> here, it is treated as <code>Any</code>.</p><pre><code class="language-julia hljs">function f1 end
@method_error_hint f1(x::Int, y; z::String) &quot;My error hint&quot; color=:red
# f1(3,   :a ; z=&quot;hello&quot;     ) ✔
# f1(3,   2  ; z=&quot;hello&quot;     ) ✔
# f1(3,   :a                 ) ✘ (no `z` keyword argument)
# f1(3.0, :a ; z=&quot;hello&quot;     ) ✘ (type of `x` is wrong)
# f1(3,   :a ; z=1           ) ✘ (type of `z` is wrong)
# f1(3       ; z=&quot;hello&quot;     ) ✘ (missing positional argument `y`)
# f1(3,   :a ; z=&quot;hello&quot;, w=1) ✘ (extra keyword argument)</code></pre><p>Here, <code>f2</code> must take a single positional argument of any type, and optionally a keyword argument <code>z</code>. If <code>z</code> is provided, it must be of type <code>Int</code>. The macro does not actually use the default value specified for the keyword argument; you can use <code>undef</code> to avoid specifying one.</p><pre><code class="language-julia hljs">function f2 end
@method_error_hint f2(x; z::Int=3) &quot;Another error hint&quot; bold=true
# f2(3                )  ✔
# f2(3     ; z=2      )  ✔
# f2(3     ; z=&quot;hello&quot;)  ✘ (type of `z` is wrong)
# f2(3, :a            )  ✘ (extra positional argument)
# f2(3, :a ; z=2      )  ✘ (extra positional argument)</code></pre><p>Variable-length positional and keyword arguments are supported.</p><pre><code class="language-julia hljs">function f3 end
@method_error_hint f3(args...; kwargs...) &quot;Another hint&quot; italic=true
# Any invocation of `f3` will trigger this.</code></pre><p><strong>Known limitations</strong></p><ul><li><p><code>Vararg</code> annotations on splatted positional arguments are not supported. This will probably be fixed in a future version.</p></li><li><p>Type parameters and <code>where</code>-clauses are not supported, for example <code>f(x::T, y::T) where {T}</code>. If you need this functionality, you should consider crafting your own error hint (for this particular signature, following the example in the docstring of <a href="https://docs.julialang.org/en/v1/base/base/#Base.Experimental.register_error_hint"><code>Base.Experimental.register_error_hint</code></a>, you could check that <code>length(argtypes) == 2 &amp;&amp; argtypes[1] == argtypes[2]</code>). Support for type parameters will probably never be implemented in this package.</p></li></ul><p><strong>Extended help</strong></p><p><strong>Behind the scenes</strong></p><p>This macro&#39;s only real job is to parse the method signature, and then generate a call to <a href="https://docs.julialang.org/en/v1/base/base/#Base.Experimental.register_error_hint"><code>Base.Experimental.register_error_hint</code></a> that checks that the method the user tried to invoke matches the signature. This is best illustrated by an example. This:</p><pre><code class="language-julia hljs">function f1 end
@method_error_hint f1(x::Int, y; z::String) &quot;My error hint&quot; color=:red</code></pre><p>expands into something like this:</p><pre><code class="language-julia hljs">Base.Experimental.register_error_hint(MethodError) do io, exc, argtypes, kwargs
    # This Dict is parsed from the method signature passed to the macro, i.e., this is the
    # &#39;target&#39; signature we are trying to match.
    target_kwargtypes = Dict{Symbol,Any}(:z =&gt; String)
    # This Vector is also parsed from the method signature, and indicates which keyword
    # arguments are mandatory (i.e., have no default value in the method signature).
    mandatory_kwargs = [:z]
    # This one indicates whether the method signature has `kwargs...`.
    has_varkwargs = false
    # Extract the actual symbols of the keyword arguments passed in the invocation
    kwarg_symbols = __kwargs_symbols(kwargs)
    if (
        # Check that the function name is correct
        exc.f === f1
        # Check that number of positional arguments is correct
        &amp;&amp; length(argtypes) == 2
        # Check that types of positional arguments are correct
        &amp;&amp; argtypes[1] &lt;: Int
        &amp;&amp; argtypes[2] &lt;: Any
        # Check that any mandatory keyword arguments are present (i.e., if there is no
        # default value in the method signature, it must be present in the invocation)
        &amp;&amp; haskey(kwarg_symbols, :z)
        # Check that no unexpected keyword arguments are present (i.e., any keyword argument
        # in the invocation must either be specified in the method signature and obey the
        # type specified in the signature, or the method signature must have `kwargs...`).
        &amp;&amp; all(collect(kwargs)) do (sym, typ)
            if haskey(target_kwargtypes, sym)
                # On Julia &lt;= 1.10 we get values instead of types so we have to use `isa`
                # instead of `&lt;:`
                typ &lt;: target_kwargtypes[sym]
            else
                has_varkwargs
            end
        end
    )
        printstyled(io, &quot;My error hint&quot;; :color=:red)
    end
end</code></pre><p>If you would like to see this in more detail, please refer to <a href="https://github.com/penelopeysm/MethodErrorHints.jl">the source code of this package</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/penelopeysm/MethodErrorHints.jl/blob/7abc2a3165b72ecf3af0c0bb51d9a28f59441d9b/src/MethodErrorHints.jl#L12-L160">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 20 September 2025 00:42">Saturday 20 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
